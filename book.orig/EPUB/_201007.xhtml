<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head><meta http-equiv="default-style" content="text/html; charset=utf-8"/>
<title>2010-07</title>
<link rel="stylesheet" href="css/stylesheet.css" type="text/css" />
<link rel="stylesheet" href="css/page-template.xpgt" type="application/adobe-page-template+xml" />
</head>
<body>
<div class="body">
<span epub:type="pagebreak" id="_201007" title="2010-07"/>
<h1 class="chapter-title"><strong>2010-07</strong></h1>
<span epub:type="pagebreak" id="_breakpoints_promiscuos" title="Breakpoints promíscuos"/>
<section title="Breakpoints promíscuos" epub:type="bodymatter chapter">
<h1 class="chapter-subtitle"><strong>Breakpoints promíscuos</strong></h1>
<p class="note-title">2010-07-26</p>

<p>Ontem falei sobre como "brincar" com os breakpoints promíscuos, ou seja, aqueles que topam qualquer processo. Isso é muito simples de se fazer:</p>
<ul><li>Configure uma VM para bootar em kernel debug.</li>
<li>Encontre um processo qualquer (vamos usar o notepad pra variar?).</li>
<li>Reabra os símbolos de user mode nele.</li>
<li>Defina um breakpoint em alguma DLL de user mode.</li></ul>
<p>Como meus leitores são muito espertos vou partir para o momento após rodarmos um notepad.exe:</p>
<pre>
   
   kd&gt; !process 0 0 notepad.exe
   PROCESS 81681be0  SessionId: 0  Cid: 0598    Peb: 7ffd7000  ParentCid: 0200
       DirBase: 08740260  ObjectTable: e18ee8d8  HandleCount:  29.
       Image: notepad.exe
   
   kd&gt; .process /i 81681be0
   You need to continue execution (press 'g' &lt;enter&gt;) for the context
   to be switched. When the debugger breaks in again, you will be in
   the new process context.
   kd&gt; g
   Break instruction exception - code 80000003 (first chance)
   nt!RtlpBreakWithStatusInstruction:
   80527bdc cc              int     3
   kd&gt; .reload /user
   Loading User Symbols
   .......................
   kd&gt; bp user32!MessageBoxExW
   kd&gt; g
   Breakpoint 0 hit
   USER32!MessageBoxExW:
   001b:7e3a0838 8bff            mov     edi,edi
   kd&gt; du poi(esp+8)
   0007cfb8  &quot;naoexistetralala.txt.Arquivo não&quot;
   0007cff8  &quot; encontrado..Verifique se o nome&quot;
   0007d038  &quot; do arquivo correto foi especifi&quot;
   0007d078  &quot;cado.&quot;
   kd&gt; ezu poi(esp+8) &quot;Esse arquivo não existe! Mas é muito mané, não é mesmo?&quot;
   kd&gt; g
</pre>
<p>O screenshot diz tudo:</p>
<img src="img/breakpoints_promiscuos_debug_notepad_kernel.png"/>
<p>Agora a parte mais divertida: experimente com outro notepad, ou com o explorer =)</p>
</section>
<span epub:type="pagebreak" id="_setimo_encontro_de_programadores_c++" title="Sétimo Encontro de Programadores C++"/>
<section title="Sétimo Encontro de Programadores C++" epub:type="bodymatter chapter">
<h1 class="chapter-subtitle"><strong>Sétimo Encontro de Programadores C++</strong></h1>
<p class="note-title">2010-07-26</p>

<p>Mais um fim-de-semana no ócio e na vadiagem. Tenho que manter minhas <a href="http://c2.com/cgi/wiki">qualidades de bom programador</a> que sou: preguiçoso, impaciente e pretensioso.</p>
<p>Mas nem por isso deixei de terminar uma primeira versão do aplicativo que irei usar como base na minha palestra do nosso próximo encontro C++: Crash Dump Analysis. Se alguém tiver dicas de quais os problemas mais difíceis do Universo para analisar em um dump de memória, comente a respeito e veremos o que dá pra fazer.</p>
<img src="img/setimo_encontro_de_programadores_c_wNd2Z1m.png"/>
<p>Enquanto isso, continuo descobrindo maravilhas do WinDbg. Essa semana fiquei brincando de colocar breakpoint em user-mode, mas depurando o kernel, como fizeram os rapazes do Ntdebugging. A conclusão é que ele vale para todos os aplicativos abertos. Tente com o MessageBox!</p>
<pre>
   
   !process 0 0 notepad.exe
   .reload /user
   bp user32!MessageBoxW
</pre>
<p>Mas devaneio. Talvez outra boa qualidade de um bom programador.</p>
</section>
<span epub:type="pagebreak" id="_twitter_eu" title="Twitter, eu?"/>
<section title="Twitter, eu?" epub:type="bodymatter chapter">
<h1 class="chapter-subtitle"><strong>Twitter, eu?</strong></h1>
<p class="note-title">2010-07-28</p>

<p>Fico meio receoso de comentar aqui que, sim, eu tenho twitter, e, sim, sou praticante de mais uma das artes da vadiagem. Até porque se 5% dos meus tweets tiver alguma relação com o conteúdo desse blogue, é  muito. O resto são comentários sobre economia&amp;finanças, notícias aleatórias sobre alguma descoberta científica (ou não), dicas rápidas sobre cinema e sabe-lá-deus-o-que-mais.</p>
<p>E isso não vai mudar. É meu twitter pessoal. Aliás, meu próprio blogue também é pessoal, e é provável que no futuro ele que mude, e não o contrário.</p>
<p>Isso não quer dizer que vou deixar de ser programador. Acho que depois de dez anos programando sem parar essa opção não existe mais, pois as habilidades adquiridas já foram registradas no meu código genético. Só que, no meu caso, ser programador não evita que eu tenha uma porção de outros interesses e que me dedique a eles tanto quanto programação.</p>
<p>Dito isso, segue mais um ponteiro perdido pela rede.</p>
</section>
<span epub:type="pagebreak" id="_religiao" title="Religião"/>
<section title="Religião" epub:type="bodymatter chapter">
<h1 class="chapter-subtitle"><strong>Religião</strong></h1>
<p class="note-title">2010-07-01 <a href="_201006.xhtml#_transformacao">&lt;</a><a href="toc_quotes.xhtml">quotes</a><a href="_201702.xhtml#_a_mesma_mente_einstein">&gt;</a> <a href="_201006.xhtml#_transformacao">&lt;</a><a href="toc_self.xhtml">self</a><a href="_201703.xhtml#_mastery_the_key_to_success_and_long_term_fulfillment">&gt;</a> <a href="_201006.xhtml#_transformacao">&lt;</a><a href="toc_now.xhtml">now</a><a href="_202210.xhtml#_o_reino_da_consciencia">&gt;</a></p>

<p>&gt; Você precisa da natureza como sua mestra para ajudar a religar-se com o Ser.</p>
<p>&gt; Esquecemos o que as pedras, as plantas e os animais ainda sabem.</p>
<p>&gt; Você é o conhecimento, a consciência através da qual tudo é conhecido.</p>
<p>&gt; Eckhart Tolle (O Poder do Silêncio, 2004)</p>
</section>
</div>
</body>
</html>
