<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jornal do Caloni</title>
<meta name="author" content="Caloni" />
<meta name="generator" content="https://github.com/caloni/journal">
<meta property="og:title" content="Jornal do Caloni"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://www.caloni.com.br"/>
<meta property="og:image" content="/journal/img/about-brand.png"/>
<meta property="og:description" content="Write for computers, people and food."/>
<link href="/journal/index.xml" rel="feed" type="application/rss+xml" title="Jornal do Caloni"/>
<link rel="stylesheet" type="text/css" href="/journal/css/custom.css"/>
<link rel="stylesheet" type="text/css" href="/journal/css/jquery-ui.css"/>
<script src="/journal/js/jquery-1.12.4.js"></script>
<script src="/journal/js/jquery-ui.js"></script>
<script src="/journal/js/copy_clipboard.js"></script>
<script src="/journal/js/list.js"></script>
<link rel="icon" href="/journal/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
<nav class="navbar has-shadow is-white"
role="navigation" aria-label="main navigation">
<div class="container">
<div class="navbar-brand">
&nbsp;
<a class="navbar-item" href="months.html">
<div class="is-4"><b>Jornal do Caloni</b></div>
</a>
</div>
</div>
</nav>
<div class="container">
<div class="column">
<div style="min-height:56vh">
<div style="padding-bottom: 1em;"></div>
<ul style="list-style: none;">

<li><small><a href="2009-05.html#dependencia">Dependência</a></small></li>
<li><small><a href="2009-05.html#meu_roteiro_c++">Meu roteiro C++</a></small></li>
<li><small><a href="2009-05.html#como_compilar_em_somente_um_passo">Como compilar em somente um passo</a></small></li></ul>

<span id="dependencia" title="Dependência"/></span>
<section id="section_dependencia">
<p class="title"><a href="2009-05.html#dependencia">#</a> Dependência</p>
<span class="title-heading">Caloni, 2009-05-01 <a href="2009-04.html#nao_resistencia">&lt;</a><a href="quotes.html">quotes</a><a href="2009-06.html#mascaras">&gt;</a> <a href="2009-04.html#nao_resistencia">&lt;</a><a href="self.html">self</a><a href="2009-06.html#mascaras">&gt;</a> <a href="2009-04.html#nao_resistencia">&lt;</a><a href="now.html">now</a><a href="2009-06.html#mascaras">&gt;</a><a href="2009-05.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_dependencia')"><sup>[copy]</sup></a></span>

<blockquote>Com o desaparecimento da dependência não há mais medo de perdas.</blockquote>

<blockquote>Tolle, Eckhart (O Poder do Agora, 1997)</blockquote>
</section><hr/>


<span id="meu_roteiro_c++" title="Meu roteiro C++"/></span>
<section id="section_meu_roteiro_c++">
<p class="title"><a href="2009-05.html#meu_roteiro_c++">#</a> Meu roteiro C++</p>
<span class="title-heading">Caloni, 2009-05-20 <a href="2009-04.html#a_sala_da_fila_das_threads">&lt;</a><a href="computer.html">computer</a><a href="2009-05.html#como_compilar_em_somente_um_passo">&gt;</a> <a href="2008-12.html#houaissparababylon_versao_11">&lt;</a><a href="archive.html">archive</a><a href="2009-07.html#strings">&gt;</a><a href="2009-05.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_meu_roteiro_c++')"><sup>[copy]</sup></a></span>

<p>Como não consigo mais ter ideias para artigos, resolvi catalogar todas as coisas que já falei nesse blogue e, o mais importante, todas as coisas que ainda não falei nesse blogue (e espero um dia falar ou talvez nunca fale), começando por C++, que era o intuito original (só que não é mais, porque eu uso mais a Win32 API que a STL):</p>

<h4>C++</h4>

<p>História:</p>

<ul><li><a href="2007-08.html#historia_da_linguagem_c_parte_1">A linguagem BCPL</a></li>

<li><a href="2007-08.html#historia_da_linguagem_c_parte_1">O código-objeto</a></li>

<li><a href="2007-08.html#historia_da_linguagem_c_parte_2">A linguagem B</a></li>

<li><a href="2007-08.html#historia_da_linguagem_c_parte_2">A "função" char</a></li>

<li><a href="2007-08.html#historia_da_linguagem_c_parte_2">O primeiro printf da história</a></li>

<li><a href="2007-10.html#the_c_programming_language">A linguagem C</a></li>

<li><a href="2016-11.html#a_linguagem_de_programacao_cpp_o_inicio">A linguagem C++</a></li>

<li>As influências</li></ul>

<p>Conceitos:</p>

<ul><li><a href="2007-10.html#guia_basico_para_programadores_de_primeiro_int_main">O conceito programa</a></li>

<li><a href="2007-08.html#historia_da_linguagem_c_parte_1">O código-objeto</a></li>

<li><a href="2008-02.html#os_diferentes_erros_na_linguagem_c">Processo de compilação</a></li>

<li><a href="2008-06.html#declaracao_x_definicao">Declaração x definição</a></li>

<li><a href="2008-12.html#basico_do_basico_tipos">Tipos</a></li>

<li><a href="2012-01.html#rvalue_e_o_novo_lvalue">Lvalue x Rvalue</a></li>

<li><a href="2010-01.html#passagem_por_valor_e_emails_com_anexo">A passagem por valor</a></li>

<li><a href="2008-12.html#basico_do_basico_ponteiros">Ponteiros</a></li>

<li><a href="2014-05.html#estruturas_vs_classes_fight">Estruturas e classes</a></li>

<li>Espaços de nomes</li>

<li><a href="2009-07.html#polimorfismo_estatico">Polimorfismo estático</a></li>

<li><a href="2016-01.html#classe_objeto_contexto_metodo_polimorfismo">Herança</a></li>

<li><a href="2011-03.html#vtable">Polimorfismo dinâmico</a></li>

<li><a href="2014-06.html#se_iterando_com_os_pseudo_ponteiros_uma_breve_introducao">Iteradores</a></li>

<li><a href="2012-05.html#sobrecarga_de_funcao_as_avessas">Função-objeto</a></li>

<li><a href="2016-01.html#gabaritos">Templates</a></li>

<li>Algoritmos genéricos</li>

<li>Qualificadores (traits)</li>

<li><a href="2007-09.html#aquisicao_de_recurso_e_inicializacao">O conceito RAII</a></li></ul>

<p>Linguagem:</p>

<ul><li><a href="2007-12.html#curiosidades_inuteis_o_operador_de_subscrito_em_c">O operador de subscrito</a></li>

<li><a href="2007-10.html#protecao_dos_membros_protected">A proteção protected</a></li>

<li><a href="2007-12.html#sizeof_de_novo">Sizeof e strings literais</a></li>

<li><a href="2008-06.html#reflexao_em_c">Uso de reflexão com typeid</a></li>

<li><a href="2007-10.html#typeid_e_os_perigos_do_nao_polimorfismo">Typeid e o polimorfismo</a></li>

<li><a href="2007-11.html#ponteiros_de_metodo_conceito_fundamental">Ponteiros de método</a></li>

<li><a href="2007-11.html#ponteiro_de_metodo_qual_this_e_usado">Ponteiros de método e o this</a></li>

<li><a href="2008-04.html#try_catch_flutuante">Try-catch fora do corpo da função</a></li>

<li><a href="2012-05.html#sobrecarga_de_funcao_as_avessas">Sobrecarga de operadores</a></li></ul>

<p>Biblioteca:</p>

<ul><li><a href="2007-11.html#usando_a_libc_nativa_do_windows">Biblioteca C no Windows</a></li>

<li><a href="2007-09.html#a_mobilidade_das_variaveis_no_printf">Mobilidade da pilha com prinff</a></li>

<li><a href="2008-03.html#iteradores_nao_sao_constantes">Erros comuns de iteradores</a></li>

<li>STL</li>

<li>Boost</li></ul>

<p>Dicas:</p>

<ul><li><a href="2008-02.html#os_diferentes_erros_na_linguagem_c">Erros comuns de iniciantes</a></li>

<li><a href="2008-02.html#codigos_de_entrevista_o_ponteiro_nulo">Ponteiro nulo em entrevistas</a></li>

<li><a href="quando_o_ponteiro_nulo_nao_e_invalido.html">Nem todo ponteiro nulo é inválido</a></li>

<li><a href="2008-02.html#desconstruindo_ioccc">Decifrando código obscuro</a></li>

<li><a href="2008-05.html#aquele_do_while_engracado">Usando do-while para evitar erros de macro</a></li>

<li><a href="2012-05.html#sobrecarga_de_funcao_as_avessas">Sobrecarga por tipo de retorno</a></li></ul>

<p>Espero que isso me ajude a continuar completando as lacunas do saite. Se não der certo, pelo menos já sei o que fiz.</p>

<p>Sugestões?</p>

</section><hr/>


<span id="como_compilar_em_somente_um_passo" title="Como compilar em somente um passo"/></span>
<section id="section_como_compilar_em_somente_um_passo">
<p class="title"><a href="2009-05.html#como_compilar_em_somente_um_passo">#</a> Como compilar em somente um passo</p>
<span class="title-heading">Caloni, 2009-05-25 <a href="2009-05.html#meu_roteiro_c++">&lt;</a><a href="computer.html">computer</a><a href="2009-06.html#bugs_dificeis_de_achar">&gt;</a> <a href="2009-04.html#a_sala_da_fila_das_threads">&lt;</a><a href="blog.html">blog</a><a href="2009-06.html#programadores_de_verdade_nao_usam_java">&gt;</a><a href="2009-05.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_como_compilar_em_somente_um_passo')"><sup>[copy]</sup></a></span>

<p>Uma das primeiras perguntas do <a href="http://brazil.joelonsoftware.com/Articles/TheJoelTest.html">teste do Joel</a> é saber se você pode compilar todo o projeto em apenas um passo. Essa é uma questão essencial e um desafio para muitas equipes. Perdem-se horas sagradas para gerar um novo Release.</p>

<p>Compilação automática geralmente está disponível nas ferramentas de desenvolvimento. Se você estiver usando o Visual Studio, por exemplo, é possível fazer isso com uma linha:</p>

<pre>
   devenv minha-solução.sln /Rebuild Release
</pre>
<p>Se não for exatamente o que você precisa, basta fazer uma <a href="http://www.google.com/search?q=visual%20studio%20automatic%20build">pesquisa de quinze minutos</a> e encontrar os parâmetros corretos. O objetivo é: eu rodo esse comando em cima do projeto inteiro em uma máquina zerada e ele simplesmente compila.</p>

<h4>Múltiplas soluções</h4>

<p>É lógico que ter apenas um solution ou workspace para guardar projetos médios e grandes é inviável. Demora para carregar no ambiente e possuem dezenas de dependências. Isso já foi tentado duas vezes nas duas empresas em que trabalhei e não funcionou. Talvez por isso seja necessário criar um script que rode o comando acima para todas as soluções do projeto, o que não muda muito o modus operandi da coisa:</p>

<pre>
   call :Build ..\Libraries\Libraries.sln
   call :Build ..\Services\Services.sln
   call :Build ..\Drivers\Drivers.sln
   call :Build ..\Tools\Tools.sln
   goto :eof
   :Build
   echo %1...
   devenv &quot;%1&quot; /Rebuild Release
   exit /b %errorlevel%
</pre>
<p>Note que meu script usa a estrutura padronizada dos diretórios de um projeto, onde cada tipo de componente tem sua pasta e solução.</p>

<p>Aos poucos você pode ir colocando "frescurinhas" em seu build (executa Debug e Release, roda automatizado no servidor, faz testes unitários, incrementa o número da versão, ...), mas algumas premissas sempre se mantêm:</p>

<ul><li>Deve ser possível compilar o projeto inteiro em um passo</li>

<li>Deve ser possível usar qualquer máquina de desenvolvimento para isso</li></ul>

<p>Regras simples de ser seguidas se você usar sempre a máxima do <a href="http://en.wikipedia.org/wiki/KISS_principle">KISS</a>.</p>

</section><hr/>

<span style="float: left;">
 <a href="2009-04.html">[2009-04]</a>
 <a href="2009-06.html">[2009-06]</a>
</span>
</div>
</div>
</section>
<footer class="footer">
<div class="container">
</div>
<div class="intentionally-blank"></div>
</footer>
</body>
</html>
