<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Blogue do Caloni</title>
<meta name="author" content="Caloni" />
<meta name="generator" content="https://github.com/caloni/journal">
<meta property="og:title" content="Blogue do Caloni"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://www.caloni.com.br"/>
<meta property="og:image" content="/img/about-brand.png"/>
<meta property="og:description" content="Write for computers, people and food."/>
<link href="/index.xml" rel="feed" type="application/rss+xml" title="Blogue do Caloni"/>
<link rel="stylesheet" type="text/css" href="/css/custom.css"/>
<link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
<script src="/js/jquery-1.12.4.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/copy_clipboard.js"></script>
<script>
var quick_search_posts = [ 
 ]; 
</script>
<script src="/js/quick_search.js"></script>
<script src="/js/list.js"></script>
<link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
<nav class="navbar has-shadow is-white"
role="navigation" aria-label="main navigation">
<div class="container">
<div class="navbar-brand">
&nbsp;
<a class="navbar-item" href="months.html">
<div class="is-4"><b>caloni::2010-07</b></div>
</a>
</div>
</div>
</nav>
<div class="container">
<div class="column">
<div style="min-height:56vh">
<div style="padding-bottom: 1em;"></div>
<ul style="list-style: none;">

<li><small><a href="2010-07.html#religiao">Religião</a></small></li>

<li><small><a href="2010-07.html#breakpoints_promiscuos">Breakpoints promíscuos</a></small></li>
<li><small><a href="2010-07.html#setimo_encontro_de_programadores_c++">Sétimo Encontro de Programadores C++</a></small></li>

<li><small><a href="2010-07.html#twitter_eu">Twitter, eu?</a></small></li>
</ul>


<span id="religiao" title="Religião"/></span>
<section id="section_religiao">
<p class="title"><a href="2010-07.html#religiao">#</a> Religião</p>
<span class="title-heading">Caloni, 2010-07-01 <a href="2010-06.html#transformacao">&lt;</a><a href="quotes.html">quotes</a><a href="2017-02.html#a_mesma_mente_einstein">&gt;</a> <a href="2010-06.html#transformacao">&lt;</a><a href="self.html">self</a><a href="2017-03.html#mastery_the_key_to_success_and_long_term_fulfillment">&gt;</a> <a href="2010-06.html#transformacao">&lt;</a><a href="now.html">now</a><a href="2022-10.html#o_reino_da_consciencia">&gt;</a><a href="2010-07.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_religiao')"><sup>[copy]</sup></a></span>

<blockquote>Você precisa da natureza como sua mestra para ajudar a religar-se com o Ser.</blockquote>
<blockquote>Esquecemos o que as pedras, as plantas e os animais ainda sabem.</blockquote>
<blockquote>Você é o conhecimento, a consciência através da qual tudo é conhecido.</blockquote>
<blockquote>Eckhart Tolle (O Poder do Silêncio, 2004)</blockquote>
</section><hr/>


<span id="breakpoints_promiscuos" title="Breakpoints promíscuos"/></span>
<section id="section_breakpoints_promiscuos">
<p class="title"><a href="2010-07.html#breakpoints_promiscuos">#</a> Breakpoints promíscuos</p>
<span class="title-heading">Caloni, 2010-07-26<a href="2010-07.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_breakpoints_promiscuos')"><sup>[copy]</sup></a></span>

<p>Ontem falei sobre como "brincar" com os breakpoints promíscuos, ou seja, aqueles que topam qualquer processo. Isso é muito simples de se fazer:</p>

<ul><li>Configure uma VM para bootar em kernel debug.</li>
<li>Encontre um processo qualquer (vamos usar o notepad pra variar?).</li>
<li>Reabra os símbolos de user mode nele.</li>
<li>Defina um breakpoint em alguma DLL de user mode.</li></ul>
<p>Como meus leitores são muito espertos vou partir para o momento após rodarmos um notepad.exe:</p>

<pre>
   
   kd&gt; !process 0 0 notepad.exe
   PROCESS 81681be0  SessionId: 0  Cid: 0598    Peb: 7ffd7000  ParentCid: 0200
       DirBase: 08740260  ObjectTable: e18ee8d8  HandleCount:  29.
       Image: notepad.exe
   
   kd&gt; .process /i 81681be0
   You need to continue execution (press 'g' &lt;enter&gt;) for the context
   to be switched. When the debugger breaks in again, you will be in
   the new process context.
   kd&gt; g
   Break instruction exception - code 80000003 (first chance)
   nt!RtlpBreakWithStatusInstruction:
   80527bdc cc              int     3
   kd&gt; .reload /user
   Loading User Symbols
   .......................
   kd&gt; bp user32!MessageBoxExW
   kd&gt; g
   Breakpoint 0 hit
   USER32!MessageBoxExW:
   001b:7e3a0838 8bff            mov     edi,edi
   kd&gt; du poi(esp+8)
   0007cfb8  &quot;naoexistetralala.txt.Arquivo não&quot;
   0007cff8  &quot; encontrado..Verifique se o nome&quot;
   0007d038  &quot; do arquivo correto foi especifi&quot;
   0007d078  &quot;cado.&quot;
   kd&gt; ezu poi(esp+8) &quot;Esse arquivo não existe! Mas é muito mané, não é mesmo?&quot;
   kd&gt; g
</pre>
<p>O screenshot diz tudo:</p>

<img src="img/breakpoints_promiscuos_debug_notepad_kernel.png"/>

<p>Agora a parte mais divertida: experimente com outro notepad, ou com o explorer =)</p>

</section><hr/>

<span id="setimo_encontro_de_programadores_c++" title="Sétimo Encontro de Programadores C++"/></span>
<section id="section_setimo_encontro_de_programadores_c++">
<p class="title"><a href="2010-07.html#setimo_encontro_de_programadores_c++">#</a> Sétimo Encontro de Programadores C++</p>
<span class="title-heading">Caloni, 2010-07-26<a href="2010-07.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_setimo_encontro_de_programadores_c++')"><sup>[copy]</sup></a></span>

<p>Mais um fim-de-semana no ócio e na vadiagem. Tenho que manter minhas <a href="http://c2.com/cgi/wiki?LazinessImpatienceHubris">qualidades de bom programador</a> que sou: preguiçoso, impaciente e pretensioso.</p>

<p>Mas nem por isso deixei de terminar uma primeira versão do aplicativo que irei usar como base na minha palestra do nosso próximo encontro C++: Crash Dump Analysis. Se alguém tiver dicas de quais os problemas mais difíceis do Universo para analisar em um dump de memória, comente a respeito e veremos o que dá pra fazer.</p>

<img src="img/setimo_encontro_de_programadores_c_wNd2Z1m.png"/>

<p>Enquanto isso, continuo descobrindo maravilhas do WinDbg. Essa semana fiquei brincando de colocar breakpoint em user-mode, mas depurando o kernel, como fizeram os rapazes do Ntdebugging. A conclusão é que ele vale para todos os aplicativos abertos. Tente com o MessageBox!</p>

<pre>
   
   !process 0 0 notepad.exe
   .reload /user
   bp user32!MessageBoxW
</pre>
<p>Mas devaneio. Talvez outra boa qualidade de um bom programador.</p>

</section><hr/>


<span id="twitter_eu" title="Twitter, eu?"/></span>
<section id="section_twitter_eu">
<p class="title"><a href="2010-07.html#twitter_eu">#</a> Twitter, eu?</p>
<span class="title-heading">Caloni, 2010-07-28<a href="2010-07.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_twitter_eu')"><sup>[copy]</sup></a></span>

<p>Fico meio receoso de comentar aqui que, sim, eu tenho twitter, e, sim, sou praticante de mais uma das artes da vadiagem. Até porque se 5% dos meus tweets tiver alguma relação com o conteúdo desse blogue, é  muito. O resto são comentários sobre economia&amp;finanças, notícias aleatórias sobre alguma descoberta científica (ou não), dicas rápidas sobre cinema e sabe-lá-deus-o-que-mais.</p>

<p>E isso não vai mudar. É meu twitter pessoal. Aliás, meu próprio blogue também é pessoal, e é provável que no futuro ele que mude, e não o contrário.</p>

<p>Isso não quer dizer que vou deixar de ser programador. Acho que depois de dez anos programando sem parar essa opção não existe mais, pois as habilidades adquiridas já foram registradas no meu código genético. Só que, no meu caso, ser programador não evita que eu tenha uma porção de outros interesses e que me dedique a eles tanto quanto programação.</p>

<p>Dito isso, segue mais um ponteiro perdido pela rede.</p>

</section><hr/>

<span style="float: left;">
 <a href="2010-06.html">[2010-06]</a>
 <a href="2010-08.html">[2010-08]</a>
</span>
</div>
</div>
</section>
<footer class="footer">
<div class="container">
</div>
<div class="intentionally-blank"></div>
</footer>
</body>
</html>
