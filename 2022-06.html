<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Blogue do Caloni</title>
<meta name="author" content="Caloni" />
<meta name="generator" content="https://github.com/caloni/journal">
<meta property="og:title" content="Blogue do Caloni"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://www.caloni.com.br"/>
<meta property="og:image" content="/img/about-brand.png"/>
<meta property="og:description" content="Write for computers, people and food."/>
<link href="/index.xml" rel="feed" type="application/rss+xml" title="Blogue do Caloni"/>
<link rel="stylesheet" type="text/css" href="/css/custom.css"/>
<link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
<script src="/js/jquery-1.12.4.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/copy_clipboard.js"></script>
<script>
var quick_search_posts = [ 
 ]; 
</script>
<script src="/js/quick_search.js"></script>
<script src="/js/list.js"></script>
<link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
<nav class="navbar has-shadow is-white"
role="navigation" aria-label="main navigation">
<div class="container">
<div class="navbar-brand">
&nbsp;
<a class="navbar-item" href="months.html">
<div class="is-4"><b>caloni::2022-06</b></div>
</a>
</div>
</div>
</nav>
<div class="container">
<div class="column">
<div style="min-height:56vh">
<div style="padding-bottom: 1em;"></div>
<ul style="list-style: none;">

<li><small><a href="2022-06.html#ate_a_morte">Até a Morte</a></small></li>
<li><small><a href="2022-06.html#o_bandido_da_luz_vermelha">O Bandido da Luz Vermelha</a></small></li>

<li><small><a href="2022-06.html#a_suspeita">A Suspeita</a></small></li>
<li><small><a href="2022-06.html#aconteceu_na_primavera">Aconteceu na Primavera</a></small></li>
<li><small><a href="2022-06.html#rumspringa_ein_amish_in_berlin">Rumspringa - Ein Amish in Berlin</a></small></li>

<li><small><a href="2022-06.html#windbg_everywhere">Windbg Everywhere</a></small></li>

<li><small><a href="2022-06.html#o_misterio_de_silver_lake">O Mistério de Silver Lake</a></small></li>

<li><small><a href="2022-06.html#a_bela_junie">A Bela Junie</a></small></li>
<li><small><a href="2022-06.html#amores_brutos">Amores Brutos</a></small></li>
<li><small><a href="2022-06.html#sonic">Sonic</a></small></li>

<li><small><a href="2022-06.html#as_duas_inglesas_e_o_amor">As Duas Inglesas e o Amor</a></small></li>
<li><small><a href="2022-06.html#awk_dna">AWK and DNA</a></small></li>
<li><small><a href="2022-06.html#awk_performance">AWK and Stack Overflow</a></small></li>
<li><small><a href="2022-06.html#boa_sorte">Boa Sorte</a></small></li>
<li><small><a href="2022-06.html#kedma">Kedma</a></small></li>
</ul>


<span id="ate_a_morte" title="Até a Morte"/></span>
<section id="section_ate_a_morte">
<p class="title"><a href="2022-06.html#ate_a_morte">#</a> Até a Morte</p>
<span class="title-heading">Caloni, 2022-06-04 <a href="2022-05.html#tantas_almas">&lt;</a><a href="cinemaqui.html">cinemaqui</a><a href="2022-06.html#a_suspeita">&gt;</a> <a href="2022-05.html#tantas_almas">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#o_bandido_da_luz_vermelha">&gt;</a> <a href="2022-05.html#tantas_almas">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#o_bandido_da_luz_vermelha">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_ate_a_morte')"><sup>[copy]</sup></a></span>

<p>O sangue e o gore de um filme como Até a Morte, principalmente estrelando Megan Fox, pode sugerir se tratar de algo parecido com seu outro trabalho, Garota Infernal, que envolve muito sangue em que ela faz uma vampira sedenta e que desperta o lado lésbico de Amanda Seyfried. Um horror divertidíssimo de ruim.</p>

<p>Já este é um thriller na cabana, ou no caso, na casa no lago. Em pleno inverno, o que é certeza de gelo quebrando no final. Ou seja, você entendeu que não vão haver surpresas, exceto as planejadas no percurso da heroína que tenta se salvar a todo custo do seu trágico destino.</p>

<p>Fox é Emma, ou ambas são a mesma persona. Como seu marido no filme comenta, ela tem ficado cada vez mais bonita enquanto envelhece. Emma é uma esposa no fim de um casamento em crise. Seu amante é funcionário de seu marido. E o esposo é o responsável por tudo. Por trás de negócios escusos, o cara vai de misógino a sinistro em um piscar de olhos.</p>

<p>Ao longo da introdução algumas pistas do que vai acontecer durante o filme são plantadas, mas a descoberta do que elas significam não é o que entretém, pois sutis demais viram motivos para a história fazer sentido. O que mais diverte é a brincadeira de esconde-esconde que Fox participa ao se desvencilhar de dois capangas enquanto tenta se livrar de seu marido. Ambos se encontram na configuração mais incômoda e macabra que um casamento pode ter. Dica sem spoiler: envolve algemas, mas não da maneira como você está imaginando.</p>

<p>Divertidinho sem deixar de lado a suposta seriedade de sua trama, Até a Morte brilha pelo seu design de produção. Ainda que estejamos presos por boa parte do filme em uma casa sem personalidade que lembra cenários de vídeo-game, cada cômodo sendo uma fase, tudo é feito com muito esmero. Os adornos são o ponto alto. Um exemplo icônico: o aniversário de casamento é um colar que lembra uma coleira.</p>

<p>Não se pode ousar falar da atuação do elenco principal, pois assim como a casa é cenário de vídeo-game suas falas e personalidades seguem o mesmo tom. Monossilábicos e óbvios, os momentos em que os personagens precisam interagir verbalmente são os momentos que você mais irá devanear na sala de cinema, tentando se lembrar se deixou a luz da sala acesa. Não há fala que seja muito boa ou muito ruim, o que acaba sendo pior. Ao menos a icônica donzela das primeiras edições de Transformers já participou de momentos mais vergonhosos nos trabalhos de Michael Bay, o que ao menos gera alguma reação. Repulsa, que é melhor que nada.</p>

<p>Megan Fox nunca lembra uma protagonista em seu próprio filme. O diretor S.K. Dale espertamente corta as cenas onde ela possui falas antes que o espectador espere por alguma atuação. Seu rosto bonito não atinge sequer a introspecção que uma atriz adolescente em filme de cabana conseguiria. No entanto, a vantagem de vermos um rosto conhecido entre adultos é o detalhe de observarmos em como a atriz tem envelhecido bem. E disso não podemos discordar de seu marido, por mais misógino que ele seja.</p>

</section><hr/>

<span id="o_bandido_da_luz_vermelha" title="O Bandido da Luz Vermelha"/></span>
<section id="section_o_bandido_da_luz_vermelha">
<p class="title"><a href="2022-06.html#o_bandido_da_luz_vermelha">#</a> O Bandido da Luz Vermelha</p>
<span class="title-heading">Caloni, 2022-06-04 <a href="2022-06.html#ate_a_morte">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#a_suspeita">&gt;</a> <a href="2022-06.html#ate_a_morte">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#a_suspeita">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_o_bandido_da_luz_vermelha')"><sup>[copy]</sup></a></span>

<p>Que graça tem ser luz vermelha se é p&amp;b? Descobri nesse DVD do filme restaurado que o filme era considerado à frente do tempo. Ele mistura cinema novo com Godard e um cheirinho de bosta. A direção é competente e afetada. Paulo Villaça cria um boçal domesticado e filosófico. Há peitinhos. Em p&amp;b. Sem Photoshop.</p>

</section><hr/>


<span id="a_suspeita" title="A Suspeita"/></span>
<section id="section_a_suspeita">
<p class="title"><a href="2022-06.html#a_suspeita">#</a> A Suspeita</p>
<span class="title-heading">Caloni, 2022-06-07 <a href="2022-06.html#ate_a_morte">&lt;</a><a href="cinemaqui.html">cinemaqui</a><a href="2022-07.html#a_fera_do_mar">&gt;</a> <a href="2022-06.html#o_bandido_da_luz_vermelha">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#aconteceu_na_primavera">&gt;</a> <a href="2022-06.html#o_bandido_da_luz_vermelha">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#aconteceu_na_primavera">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_a_suspeita')"><sup>[copy]</sup></a></span>

<p>Se tem um bom motivo para assistir A Suspeita é a atuação de Glória Pires, uma das grandes atrizes da dramaturgia brasileira que ainda está em atividade. Desde O Quatrilho -- após a retomada do cinema nacional e o segundo filme a ser indicado ao Oscar -- a Nise: O Coração da Loucura, um passeio delicioso pelas possibilidades da mente e da comunicação humanas -- Glória sempre foi a escolha certeira. Aqui ela faz essa investigadora solitária e que luta contra forças internas para manter suas memórias ainda vivas e resolver seu último, ou melhor dizendo, o grande caso de sua carreira.</p>

<p>Abdicando de vida pessoal para galgar o posto de comissária da polícia civil carioca, Lucia é uma personagem que se monta a partir de fragmentos de seu dia a dia. Esse é o mesmo formato adotado pelo roteiro escrito a oito mãos, que segue uma cartilha próxima de filmes como Amnésia (Christopher Nolan, 2000), ainda que com menor intensidade, mas que também utiliza o ponto de vista e as memórias da protagonista cena a cena para entendermos seu drama interno e a confusão mental que ela vive para conseguir não se esquecer de nenhuma pista ou detalhe que possa passar despercebido.</p>

<p>Ela investiga uma informação confidencial entre Beto, um traficante comandante de quadrilha no Rio de Janeiro, e o escritor/jornalista que está montando uma biografia sobre o sujeito. Essa informação tem relação com corrupção entre os grandes na própria corporação que Lucia trabalhou a vida inteira. Sua tortura psicológica é conseguir agir apesar de nunca saber se seus superiores imediatos estão envolvidos. Quando seu colega acaba sendo morto em um tiroteio extremamente suspeito ela vira alvo da mídia e o motivo que todos em volta parecem ter aguardado para colocá-la de escanteio.</p>

<p>O que impressiona mais na postura de Lucia é que ela poderia muito bem dar de ombros e fazer apenas seu serviço. Acumulando uma aposentadoria que poderia lhe fornecer conforto nos últimos anos de sua decadente vida graças à doença degenerativa sem cura que é vítima, seria a hora de se desligar de vez do mundo. Se esquecer. E é justamente isso a única força que mantém Lucia de pé, trabalhando todas as horas do dia e da noite para desvendar um esquema que vai se desdobrando em dimensões improváveis, e por isso mesmo, assustadoras.</p>

<p>O grande trunfo da direção exagerada de Pedro Peregrino, que estreia na direção mas já auxiliou Padilha em Tropa de Elite, é sua pegada pseudo-realista. Com a ajuda de diálogos que ressaltam o cotidiano com falas e gírias consideradas comuns hoje (com o risco de soar datado apenas daqui alguns anos), Peregrino reforça esse cotidiano utilizando elementos que nossa memória brasileira irá identificar, como a fachada de prédios e viadutos típicos das grandes cidades, assim como comunidades que viraram panorama na triste e decadente capital fluminense. Até detalhes mais sutis, como o uso de locações mais antigas do centro, auxiliam o espectador a se situar no tempo e no espaço de um thriller policial autenticamente tupiniquim.</p>

<p>Porém, o filme não consegue disfarçar que usa figuras de linguagem e narrativa comercialmente convencionais e importadas de Hollywood. É daí que vem as cenas cheias de fades, uso de foco e movimentos de câmera involuntários e desnecessários, que apenas nos fazem lembrar que esta é uma tentativa de realizar mímica com o esperado pelo público internacional. Não se trata de clichê de gênero porque é algo facilmente identificado por nós através de infinitas horas de enlatados norte-americanos.</p>

<p>Felizmente esse pequeno detalhe de produção não diminui todas as outras virtudes de A Suspeita, que se mantém firme até o fim como um bom exemplo de filme psicológico que sequestra nossa atenção para onde quer que mire. Há uma riqueza na composição desse universo que é imune a cacoetes do cinema comercial.</p>

<p>E que pode ser admirado principalmente graças à atuação de sua protagonista. Glória Pires brilha como de costume. O triste é que esse costume se repete apenas de vez em quando no cinema brasileiro. E isso se contarmos que já se passou mais de 30 anos após a retomada soa ainda como um ritmo bem tímido, mesmo que estejamos já falando de cinema de gênero.</p>

</section><hr/>

<span id="aconteceu_na_primavera" title="Aconteceu na Primavera"/></span>
<section id="section_aconteceu_na_primavera">
<p class="title"><a href="2022-06.html#aconteceu_na_primavera">#</a> Aconteceu na Primavera</p>
<span class="title-heading">Caloni, 2022-06-07 <a href="2022-06.html#a_suspeita">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#rumspringa_ein_amish_in_berlin">&gt;</a> <a href="2022-06.html#a_suspeita">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#rumspringa_ein_amish_in_berlin">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_aconteceu_na_primavera')"><sup>[copy]</sup></a></span>

<p>Filme estranho italiano de dupla de irmãos diretores com viés marxista. É óbvio que sairia uma dessas merdas herméticas. A idade de censura sugerida no filme é de 14 anos, mas há poucas cenas fortes de mortes veladas. E um peitinho. A trilha sonora dá um sono difícil de gerenciar em vários momentos quando a história fica muito lenta. O roteiro monta um esquema de memórias pelas gerações enquanto a família contemporânea viaja para encontrar com seu último descendente, na doce paisagem da Toscana. Por lá o sobrenome da família é um tabu e eles são conhecidos como malditos, um trocadilho com seu sobrenome original que significa bendito. O motivo desse ódio nos escapa, é apenas sugerido por alguns acontecimentos pontuais, mas tem relação com roubar ouro dos franceses revolucionários de merda, o que não considero uma maldição, mas um ato digno de troféu. A coisa só se complica quando o exército fascista mata apenas trabalhadores traidores do país e deixa o burguês safado vivo. Mas até aí já estamos quase no final de uma história sem muita profundidade. É um teatro filmado sem muito esmero, uma telenovela sobre como o ouro deturpa as pessoas. Em que momento isso acontece os idealizadores falham em perceber.</p>

</section><hr/>

<span id="rumspringa_ein_amish_in_berlin" title="Rumspringa - Ein Amish in Berlin"/></span>
<section id="section_rumspringa_ein_amish_in_berlin">
<p class="title"><a href="2022-06.html#rumspringa_ein_amish_in_berlin">#</a> Rumspringa - Ein Amish in Berlin</p>
<span class="title-heading">Caloni, 2022-06-07 <a href="2022-06.html#aconteceu_na_primavera">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#o_misterio_de_silver_lake">&gt;</a> <a href="2022-06.html#aconteceu_na_primavera">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#o_misterio_de_silver_lake">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_rumspringa_ein_amish_in_berlin')"><sup>[copy]</sup></a></span>

<p>Esta comédia pensa em choque de cultura, mas atinge os valores contemporâneos, ou a falta de. O que era para ser engraçado se torna um pouco melancólico. É um filme que diz mais sobre o roteirista e diretor que o universo sendo representado. Aborda temas atuais, como relacionamentos líquidos e ecologia, onde nada parece importar. Nem mesmo o roteiro. Uma aventura adolescente com alemães deliciosos e um jovem da comunidade Amish perdido em Berlim. Ele está nessa fase que pode experimentar a vida lá fora, mas o roteiro cria algumas barreiras mentais em sua cabeça para aos poucos ir quebrando. O diretor gostou de usar o efeito de câmera lenta girando e ultrazoom na cara dos atores para parecer íntimo e introspectivo e agora usa em todas as cenas que não sabe o que fazer. O cineasta está imerso no universo que quer representar no cinema sem saber usar a linguagem do audiovisual. Nem mesmo os exageros de videoclipe. Abusar de filtros é apenas ser usuário do Insta. Os conflitos são criados e resolvidos sem mais nem menos.</p>

</section><hr/>


<span id="windbg_everywhere" title="Windbg Everywhere"/></span>
<section id="section_windbg_everywhere">
<p class="title"><a href="2022-06.html#windbg_everywhere">#</a> Windbg Everywhere</p>
<span class="title-heading">Caloni, 2022-06-09 <a href="2022-05.html#meditacao_e_self_debugging">&lt;</a><a href="computer.html">computer</a><a href="2022-06.html#awk_dna">&gt;</a> <a href="2008-05.html#aprendendo_rapidamente_conceitos_essenciais_do_windbg">&lt;</a><a href="windbg.html">windbg</a><a href="2023-10.html#como_colocar_breakpoint_nas_chamadas_a_outputdebugstring">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_windbg_everywhere')"><sup>[copy]</sup></a></span>

<h2>Usando WinDbg em situações onde não há Visual Studio</h2>

<p>Com essa premissa me vem à mente os seguintes cenários:</p>

<ul><li>Não é possível instalar Visual Studio</li>
<li>Só copiar a pasta onde está rodando o windbg.exe.</li>
<li>Arquivos de dump muito grandes</li>
<li>Processo que capota consumindo o mundo de memória.</li>
<li>Cópia de arquivos em alguns ambientes demoraria séculos.</li>
<li>Processos que não podem parar</li>
<li>Bug raro de acontecer e se parar o processo já era.</li>
<li>Manter processo em observação até reprodução (memory leaks macabros).</li>
<li>Único lugar que acontece o bug</li>
<li>É raro, mas acontece sempre.</li></ul>
<h2>Colinha de todo dia</h2>

<ul><li>!analyze -v</li>
<li>!sym noisy, .symfix, .sympath</li>
<li>.reload /f, x</li>
<li>bp, bl, bu, g</li>
<li>db, dd, dv, da, du</li>
<li>~, k, kv, kvn</li></ul>
<h2>Leak de memória</h2>

<ul><li>!address -summary</li>
<li>!heap -stat, -srch AllocSize</li></ul>
<h2><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/process-servers--user-mode-">Máquina com rede e com firewall</a></h2>

<ul><li>WinDbg é de hackudos, então <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/two-firewalls">firewall não funciona</a> com ele graças ao proxy reverso.</li></ul>
<h2>Preciso do kernel</h2>

<ul><li>Começa a parte divertida: <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/forcing-a-system-crash-from-the-keyboard">gerar tela azul</a>.</li></ul>
<h2>Boot da máquina</h2>

<ul><li>bcdedit /dbgsettings, /copy {current}, set debug on</li>
<li>VM: \\.\pipe\kd</li>
<li>windbg.exe -k com:pipe,port=\\.\pipe\kd,resets=0,reconnect -b</li>
<li>Para bem no <a href="https://systemroot.gitee.io/pages/apiexplorer/d6/d5/4_2kdinit_8c-source.html">código-fonte de David Cutler</a> para um debugger portável do kernel.</li>
<li>!process 0 0</li></ul>
<h2><a href="https://www.infoq.com/br/presentations/depurando-ate-o-fim-do-mundo/">Serviços no limite da existência</a></h2>

<ul><li>I get by with a <a href="2008-05.html#kernel_mode_user_mode">little help</a> <a href="posts.html?q=from my kernel">from my kernel</a>.</li></ul>
<h2>Profiling</h2>

<ul><li>Para ver <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/wt--trace-and-watch-data-">quanto tempo leva</a> chamar uma função.</li></ul>
<h2>Engenharia reversa</h2>

<ul><li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/setting-a-conditional-breakpoint">Breakpoints condicionais</a>.</li>
<li><a href="2008-02.html#conversor_de_houaiss_para_babylon_parte_1">Quebrando Houaiss</a>.</li></ul>
<h2><a href="https://docs.microsoft.com/en-us/windows/win32/debug/using-symstore">Servidor de símbolos</a></h2>

<ul><li>Use o <a href="https://docs.microsoft.com/en-us/windows/win32/debug/using-symstore">symstore</a> para montar uma fazenda de símbolos.</li>
<li>Use o <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/symproxy">SymProxy</a> para <a href="posts.html?q=publicar">publicar</a>.</li>
<li>O SymProxy também é útil como um... proxy =).</li></ul>
<h2><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/gflags">GFlags</a></h2>

<ul><li>Heap tagging e stack trace database para caçar leaks de memória.</li>
<li>Coleta silenciosa de dumps.</li>
<li>Chamar kernel debugger ao iniciar processo (parâmetro `-d` do ntsd.exe).</li></ul>
<p><a href="2008-05.html#kernel_mode_user_mode">little help</a> <a href="posts.html?q=from my kernel">from my kernel</a>: https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/controlling-the-user-mode-debugger-from-the-kernel-debugger</p>

<p><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/symproxy">SymProxy</a> para <a href="posts.html?q=publicar">publicar</a>: https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/http-symbol-stores</p>

</section><hr/>


<span id="o_misterio_de_silver_lake" title="O Mistério de Silver Lake"/></span>
<section id="section_o_misterio_de_silver_lake">
<p class="title"><a href="2022-06.html#o_misterio_de_silver_lake">#</a> O Mistério de Silver Lake</p>
<span class="title-heading">Caloni, 2022-06-13 <a href="2022-06.html#rumspringa_ein_amish_in_berlin">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#a_bela_junie">&gt;</a> <a href="2022-06.html#rumspringa_ein_amish_in_berlin">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#a_bela_junie">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_o_misterio_de_silver_lake')"><sup>[copy]</sup></a></span>

<p>Andrew Garfield é o Homem Aranha pop e aqui ele vive em um mundo onde roubaram suas memórias de infância e substituíram por uma teoria da conspiração. No meio há sexo, peitinhos, metalinguagem e referências de montão. A direção se diverte imensamente, assim como a trilha sonora. Ambos evocam tempos eternos do cinema mudo e o cinema dos anos 60 de Alfred Hitchcock, mas acaba atrapalhando um roteiro competente, intrincado, cheio de detalhes que parecem soltos e quenão estão (se você pensar direito). O filme é divertido, e ter um elenco desconhecido contribui. E por isso Garfield não está bem. Mal escalado, ensaia um personagem tragicômico sem a postura dramática. Seu peso é ter perdido a mulher. Ó dó. É como o patético Ashton Kutcher em Efeito Borboleta (que também perde feio para o resto do elenco, em especial os da fase mirim da história). É engraçado repensar em nossas influências e na junção do novo e velho, mas parece haver um limite até onde isso é bom. Com certeza o limite fica antes das duas horas e meia de projeção. Faz lembrar outras histórias envolventes com um pé na fantasia, como o inequecível Veludo Azul de David Lynch (1986). No entanto, enquanto Blue Velvet possuía um elenco com aspirações juvenis, mas com motivações adultas, que atribuem peso à narrativa, Silver Lake é um filme nu, com carência moral, o que impacta seu final decepcionante, incluindo a reviravolta feita para fãs mais inocentes de Donnie Darko terem esperança de um revival, se esquecendo que este é um projeto comercial e planejado para ser um sucesso, e não uma produção independente obscura de estreia que acaba arrebatando um vácuo que merecia a obra avassaladora de Richard Kelly. O diretor de Silver Lake é David Robert Mitchell em seu terceiro trabalho, sendo que ainda não chamou a atenção. Não é agora que o fará com esse longa-metragem bem longo, pop apelativo com a desculpa de crítico, e que assim como a série patética Stranger Things apela para a referência pela referência. Mas não me levem a mal. O filme é bom, levemente divertido e está no caminho certo. Devemos de fato passar a mão na cabeça de James Dean. Devemos aguardar aos pés de Newton por um novo caminho para nos salvar. A metalinguagem implícita está correta. O que não quer dizer que o filme esteja.</p>

</section><hr/>


<span id="a_bela_junie" title="A Bela Junie"/></span>
<section id="section_a_bela_junie">
<p class="title"><a href="2022-06.html#a_bela_junie">#</a> A Bela Junie</p>
<span class="title-heading">Caloni, 2022-06-19 <a href="2022-06.html#o_misterio_de_silver_lake">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#amores_brutos">&gt;</a> <a href="2022-06.html#o_misterio_de_silver_lake">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#amores_brutos">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_a_bela_junie')"><sup>[copy]</sup></a></span>

<p>Quem disse que francês não pode fazer filme enlatado? Neste drama adolescente que se passa em uma escola da elite francesa -- eles aprendem inglês, italiano e russo -- essa menina é belíssima e não consegue se desvencilhar do garanhão do pedaço. Tudo fica mais complicado depois que ela dá uma chance para Otto, um garoto daqueles para se casar. A novelinha segue até algo que pode-se confundir com o clímax, quando A Bela Junie se oferece de peitos de fora para seu companheiro Otto. Feito para ouvir alunos franceses falando em outros idiomas. Uma música-tema repetitiva que dá sono.</p>

</section><hr/>

<span id="amores_brutos" title="Amores Brutos"/></span>
<section id="section_amores_brutos">
<p class="title"><a href="2022-06.html#amores_brutos">#</a> Amores Brutos</p>
<span class="title-heading">Caloni, 2022-06-19 <a href="2022-06.html#a_bela_junie">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#sonic">&gt;</a> <a href="2022-06.html#a_bela_junie">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#sonic">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_amores_brutos')"><sup>[copy]</sup></a></span>

<p>Iñarritu cria uma poesia cinematográfica que eleva a linguagem. O filme não tenta em nenhum momento ser espertinho pelas suas técnicas narrativas, e quase nunca conseguimos apontar um detalhe feito apenas pela virtude técnica, ou seja, para se mostrar. No entanto, do começo ao fim a narração é só virtude. É uma montagem tensa que segue um roteiro fluido que relata sensações de vidas que poderiam ser reais sem se preocupar em manter um discurso ou erguer uma bandeira. Ele nos mantém nesse barco por tempo o suficiente para não querermos mais sair antes do final. Eis o cinema que os grandes diretores gostariam de fazer sempre, mas muitos são atrapalhados pelo próprio ego. Este diretor mexicano o fez e esmigalhou seu orgulho de ostentar técnicas de filmagem (que possui) e controle do elenco, sacrificando uma suposta autoria (para os que acreditam em cinema de autor) pelo bem da sétima arte. E o resultado compensou para nós, amantes da sala escura.</p>

</section><hr/>

<span id="sonic" title="Sonic"/></span>
<section id="section_sonic">
<p class="title"><a href="2022-06.html#sonic">#</a> Sonic</p>
<span class="title-heading">Caloni, 2022-06-19 <a href="2022-06.html#amores_brutos">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#as_duas_inglesas_e_o_amor">&gt;</a> <a href="2022-06.html#amores_brutos">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#as_duas_inglesas_e_o_amor">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_sonic')"><sup>[copy]</sup></a></span>

<p>Este filme foi refeito porque o bonequinho era muito feio. Então lançaram uma versão farofenta onde sua única virtude são os momentos que reutilizam as qualidades do jogo original, como a textura e a música-tema. Todo o resto é descartável. Exceto quando Jim Carrey diz suas falas, com tanta convicção que algumas parecem boas.</p>

</section><hr/>


<span id="as_duas_inglesas_e_o_amor" title="As Duas Inglesas e o Amor"/></span>
<section id="section_as_duas_inglesas_e_o_amor">
<p class="title"><a href="2022-06.html#as_duas_inglesas_e_o_amor">#</a> As Duas Inglesas e o Amor</p>
<span class="title-heading">Caloni, 2022-06-25 <a href="2022-06.html#sonic">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#boa_sorte">&gt;</a> <a href="2022-06.html#sonic">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#boa_sorte">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_as_duas_inglesas_e_o_amor')"><sup>[copy]</sup></a></span>

<p>Truffault é o amiguinho do Godard e ambos criam os filmes franceses mais chatos da história quando querem criticar algo sem o bom humor. E o bom humor falta em As Duas Inglesas e o Amor, quiçá um dos melhores filme do diretor, que brinca com o conceito literário e as diferenças culturais de dois povos tão próximos fisicamente quanto distantes moralmente. Há algumas reviravoltas que nos acordam por alguns minutos, mas a sensação é pertencer a um dos sonhos que são os filmes do diretor russo Andrei Tarkovsky sem a introspecção nem a filosofia. Um drama barato, novelesco, cartunesco e vazio de alma. Em suma: um trabalho mais francês, do niilismo insuportável, que inglês, de um humor sagaz e espirituoso.</p>

</section><hr/>

<span id="awk_dna" title="AWK and DNA"/></span>
<section id="section_awk_dna">
<p class="title"><a href="2022-06.html#awk_dna">#</a> <a class="external" href="https://livefreeordichotomize.com/2019/06/04/using_awk_and_r_to_parse_25tb/">AWK and DNA</a></p>
<span class="title-heading">Caloni, 2022-06-25 <a href="2022-06.html#windbg_everywhere">&lt;</a><a href="computer.html">computer</a><a href="2022-06.html#awk_performance">&gt;</a> <a href="2020-07.html#close_remote_socket">&lt;</a><a href="english.html">english</a><a href="2023-04.html#hacker_rank_array_part_1">&gt;</a> <a href="2022-03.html#impact_of_sugar_on_the_body_brain_and_behavior">&lt;</a><a href="blogging.html">blogging</a><a href="2022-06.html#awk_performance">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_awk_dna')"><sup>[copy]</sup></a></span>

<img src="img/awk_dna_dna_chips.png"/>

<p>Pesquisando sobre otimização de AWK eu encontro este post em que uma pessoa tenta tornar a análise de sequências de DNA na nuvem algo financeiramente e computacionalmente viável. Ela começa tentando o óbvio, usando SQL nas próprias estruturas de CSV hospedadas na S3, passa por tentativas de particionar os blocos, por entender como paralelizar a operação e termina em uma solução que usa AWK junto de GNU Parallel, redirecionando a saída para que a linguagem R processe.</p>

<pre>
select * from intensityData limit 10;
select * from intensityData where snp = 'rs123456';
</pre>

<blockquote>Eight minutes and 4+ terabytes of data queried later I had my results. Athena charges you by data searched at the reasonable rate of $5 per TB. So this single query cost $20 and eight minutes. If we ever wanted to run a model over all the data we better be ready to wait roughly 38 years and pay $50 million. Clearly this wasn’t going to work.</blockquote>

<h2>Lessons Learned</h2>

<ul><li>There's no cheap way to parse 25tb of data at once.</li>
<li>Sorting is hard, especially when data is distributed.</li>
<li>Never, ever, try and make 2.5 million partitions. (cost: $1k+ USD)</li>
<li>Sometimes bespoke data needs bespoke solutions.</li>
<li>Don't sleep on the basics. Someone probably solved your problem in the 80s.</li>
<li><a href="https://www.gnu.org/software/parallel/">gnu parallel</a> is magic and everyone should use it.</li>
<li>Associative arrays in AWK are super powerful.</li></ul>
<h3>Example</h3>

<pre>
yp1234,577,1,3
yp5678,577,3,5
yp9012,132,8,9
# This will create the two files 577.csv and 132.csv in your current directory.
awk -F, '{ print &gt; $2 &quot;.csv&quot; }' file.csv
parallel --block 100M --pipe  \
        &quot;awk -F '\t' '{print \$1\&quot;,...\&quot;$30\&quot;&gt;\&quot;chunked/{#}_chr\&quot;\$15\&quot;.csv\&quot;}'&quot;
</pre>

</section><hr/>

<span id="awk_performance" title="AWK and Stack Overflow"/></span>
<section id="section_awk_performance">
<p class="title"><a href="2022-06.html#awk_performance">#</a> <a class="external" href="https://stackoverflow.com/questions/43513975/awk-gawk-performance">AWK and Stack Overflow</a></p>
<span class="title-heading">Caloni, 2022-06-25 <a href="2022-06.html#awk_dna">&lt;</a><a href="computer.html">computer</a><a href="2022-07.html#como_converter_qualquer_projeto_antigo_do_visual_studio_em_cmake">&gt;</a> <a href="2022-06.html#awk_dna">&lt;</a><a href="blogging.html">blogging</a><a href="2022-07.html#cravings_vs_impulses_what_are_you_guilty_of">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_awk_performance')"><sup>[copy]</sup></a></span>

<h2>XML Issues</h2>

<p>Este post foi resultado da minha pesquisa sobre AWK e performance. Ele contém alguns insights que acredito serem úteis para otimizar o código AWK. Nem sempre a linguagem é a ferramenta ideal para trabalhar dados, como o rapaz da dúvida mencionou (ele estava tentando parsear XML), mas mesmo assim as respostas focaram na implementação interna do AWK para entender como tornar o processamento massivo de dados factível, ou pelo menos mais rápido. Isso pode ser útil no dia-a-dia.</p>


<blockquote>"The Enlightened Ones say that....</blockquote>

<blockquote>You should never use C if you can do it with a script;</blockquote>

<blockquote>You should never use a script if you can do it with awk;</blockquote>

<blockquote>Never use awk if you can do it with sed;</blockquote>

<blockquote>Never use sed if you can do it with grep."</blockquote>

<h2>Test #1</h2>

<pre>
yes 'SomeSampleText SomeOtherText 33 1970 YetAnotherText 777 abc 1 AndSomeMore' | head -1000000 &gt; bigsample.txt
time gawk 'BEGIN {a = 0;} {if ($5 == &quot;YetAnotherText&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {a = 0;} {if ($0 ~ /YetAnotherText/) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {a = 0;} /YetAnotherText/ {a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {a = 0;} {if (NF == 9) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {a = 0;} {if ($1 == &quot;SomeSampleText&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {a = 0;} {if ($9 == &quot;AndSomeMore&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
</pre>
<h2>Test #2</h2>

<pre>
yes &quot;&lt;SomeSampleText:SomeOtherText=33&gt;1970&lt;YetAnotherText:777=abc&gt;1&lt;AndSomeMore&gt;&quot; | head -1000000 &gt; bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} {if ($5 == &quot;YetAnotherText&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} {if ($0 ~ /YetAnotherText/) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} /YetAnotherText/ {a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} {if (NF == 8) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} {if ($2 == &quot;SomeSampleText&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
time gawk 'BEGIN {FS = &quot;&lt;|:|=&quot;;} {if ($8 == &quot;AndSomeMore&gt;&quot;) a ++;} END {print &quot;a: &quot; a;}' bigsample.txt
</pre>
<h2>Test #2.1</h2>

<pre>
time grep -c YetAnotherText bigsample.txt
</pre>
<h2>Test #3</h2>

<pre>
yes 'a b c d' | head -1000000 &gt; bigsample.txt
time gawk '{if(NF==5)print(&quot;a&quot;)}' bigsample.txt
time gawk '{if($4==&quot;Hahaha&quot;)print(&quot;a&quot;)}' bigsample.txt
time gawk '{if($1==&quot;Hahaha&quot;)print(&quot;a&quot;)}' bigsample.txt
time gawk '/Hahaha/{if($4==&quot;Hahaha&quot;)print(&quot;a&quot;)}' bigsample.txt
</pre>
<h2>Preliminary conclusions</h2>

<ul><li>It seems that parsing and splitting into fields is faster when there is one simple delimiter, instead of several delimiters.</li>
<li>Usually getting $N is faster than getting $M, where N < M</li>
<li>In some cases, searching for /pattern/ in the whole line is faster than comparing $N == "pattern", especially if N is not one of the first fields of the line</li>
<li>Getting NF can be slow because the line has to be parsed and fields calculated, and more so if there are several delimiters</li></ul>
<h2>Final test</h2>

<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;ConfigDataFile xmlns:un=&quot;specific.xsd&quot; xmlns:xn=&quot;generic.xsd&quot;&gt;
    &lt;configData dnPrefix=&quot;Undefined&quot;&gt;
        &lt;xn:SubNetwork id=&quot;ROOT_1&quot;&gt;
            &lt;xn:SubNetwork id=&quot;ROOT_2&quot;&gt;
                &lt;xn:attributes&gt;
                ...
                &lt;/xn:attributes&gt;
            &lt;/xn:SubNetwork&gt;
            &lt;xn:SubNetwork id=&quot;ID_1&quot;&gt;
            ....
            &lt;/xn:SubNetwork&gt;
            &lt;xn:SubNetwork id=&quot;ID_2&quot;&gt;
            .....
            &lt;/xn:SubNetwork&gt;
        &lt;/xn:SubNetwork&gt;
    &lt;/configData&gt;
&lt;/ConfigDataFile&gt;
xml sample 300k times bigger
time gawk 'BEGIN{FS=&quot;[&lt;:=]&quot;}NF&gt;=4{a++}END{print a+0}' bigsample.txt
time gawk 'BEGIN{FS=&quot;&lt;|:|=&quot;}NF&gt;=4{a++}END{print a+0}' bigsample.txt
time gawk 'BEGIN{FS=&quot;&lt;|:|=&quot;}NF&gt;=4&amp;&amp;/:SubNetwork/{a++}END{print a+0}' bigsample.txt
time gawk 'BEGIN{FS=&quot;:SubNetwork&quot;}NF&gt;=2{a++}END{print a+0}' bigsample.txt
time gawk '/:SubNetwork/{a++}END{print a}' bigsample.txt
</pre>
<h2>Mawk</h2>

<p>No meio das minhas pesquisas também encontrei este projeto chamado <a href="https://invisible-island.net/mawk/">mawk</a>, que é uma versão otimizada do AWK. Instalei pelos fontes do projeto na minha máquina e fiz os mesmos testes do post do Stack Overflow com resultados absurdamente mais rápidos. Ou seja, vale uma visita.</p>

<h2>Final conclusion</h2>


<blockquote>Show that if you use your :SubNetwork as field separator, it's the fastest.</blockquote>

<ul><li>Regex as filter is much faster than run the action.</li>
<li>Mawk is fast as hell.</li></ul>

</section><hr/>

<span id="boa_sorte" title="Boa Sorte"/></span>
<section id="section_boa_sorte">
<p class="title"><a href="2022-06.html#boa_sorte">#</a> Boa Sorte</p>
<span class="title-heading">Caloni, 2022-06-25 <a href="2022-06.html#as_duas_inglesas_e_o_amor">&lt;</a><a href="cinema.html">cinema</a><a href="2022-06.html#kedma">&gt;</a> <a href="2022-06.html#as_duas_inglesas_e_o_amor">&lt;</a><a href="movies.html">movies</a><a href="2022-06.html#kedma">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_boa_sorte')"><sup>[copy]</sup></a></span>

<p>O filme de fotografia pálida e uma Débora Secco que faz sua persona do Twitter: desleixada. Combina com uma aidética. Ela paga peitinho, mas sabemos ser silicone. E ela nem liga. O rapaz é sortudo, está em um filme como protagonista e só precisa fazer cara de paisagem. Ver Fernanda Montenegro de relance é uma brisa, faz quase valer o filme um pouco mais. A história é daquelas de hospício, com os vistos como malucos da sociedade, mas acaba se revelando uma farsa, metafórico talvez, mas nunca original. No final acaba o papel do roteiro e alguns personagens ficam esquecidos. Ou o roteirista tem Alzheimer ou acabou o dinheiro das filmagens. Tem cena de violão e uma sequência de dança editada dentro dos corredores do hospício, como um video-clipe para fazer valer a pena pelo resto de marasmo.</p>

</section><hr/>

<span id="kedma" title="Kedma"/></span>
<section id="section_kedma">
<p class="title"><a href="2022-06.html#kedma">#</a> Kedma</p>
<span class="title-heading">Caloni, 2022-06-25 <a href="2022-06.html#boa_sorte">&lt;</a><a href="cinema.html">cinema</a><a href="2022-07.html#beavis_and_butthead_do_the_universe">&gt;</a> <a href="2022-06.html#boa_sorte">&lt;</a><a href="movies.html">movies</a><a href="2022-07.html#beavis_and_butthead_do_the_universe">&gt;</a><a href="2022-06.html"> <sup>[up]</sup></a> <a href="javascript:;" onclick="copy_clipboard('section#section_kedma')"><sup>[copy]</sup></a></span>

<p>Amos Gitai é o mestre sionista em criar merdas colossais. Desde sua obra mais odiada, Carmel, que foi aplaudida na sessão da Mostra onde o vi porque o dito cujo estava presente, tenho uma afeição pelo diretor. Ele possui um certo charme em ser desafiado intelectualmente e por exacerbar o drama de seu povo em filmes repletos de simbologias vazias e mensagens secretas para quem conhece a desprezível cultura. Assim como ciganos são tradicionalmente mal vistos pela sociedade mundial, Amos consegue gerar a mesma sensação pelo seu povo, o que talvez seja o efeito contrário do que ele espera. O que comprova mais uma vez que apesar de tecnicamente soberbo, suas obras estão imbuídas de uma moral duvidosa. Quiçá odiosa.</p>

</section><hr/>

<span style="float: left;">
 <a href="2022-05.html">[2022-05]</a>
 <a href="2022-07.html">[2022-07]</a>
</span>
</div>
</div>
</section>
<footer class="footer">
<div class="container">
</div>
<div class="intentionally-blank"></div>
</footer>
</body>
</html>
